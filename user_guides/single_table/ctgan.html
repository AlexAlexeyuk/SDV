
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CTGAN Model &#8212; SDV 0.4.3 documentation</title>
    
  <link rel="stylesheet" href="../../_static/css/index.d431a4ee1c1efae0e38bdfebc22debff.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.30270b6e4c972e43c488.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="shortcut icon" href="../../_static/SDV-Logo-Black.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Handling Constraints" href="constraints.html" />
    <link rel="prev" title="GaussianCopula Model" href="gaussian_copula.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    
    <a class="navbar-brand" href="../../index.html">
      <img src="../../_static/SDV-Logo-Color.png" class="logo" alt="logo">
    </a>
    
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../../getting_started/index.html">Getting Started</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="../index.html">User Guides</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../api_reference/index.html">API Reference</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../developer_guides/index.html">Developer Guides</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../history.html">Release Notes</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/sdv-dev/SDV" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar">

<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>


<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
      
      
        
          

              <li class="active">
                  <a href="index.html">Single Table Data</a>
                  <ul>
                  
                      <li class="">
                          <a href="data_description.html">Data Description</a>
                      </li>
                  
                      <li class="active">
                          <a href="models.html">Models</a>
                      </li>
                  
                      <li class="">
                          <a href="constraints.html">Handling Constraints</a>
                      </li>
                  
                      <li class="">
                          <a href="evaluation.html">Evaluating Synthetic Data</a>
                      </li>
                  
                  </ul>
              </li>
          
        
          
              <li class="">
                  <a href="../relational/index.html">Relational Data</a>
              </li>
          
        
          
              <li class="">
                  <a href="../timeseries/index.html">Timeseries Data</a>
              </li>
          
        
      
      
      
      
      
      
      
      
    </ul>

</nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#what-is-ctgan" class="nav-link">What is CTGAN?</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#quick-usage" class="nav-link">Quick Usage</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#generate-synthetic-data-from-the-model" class="nav-link">Generate synthetic data from the model</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#save-and-load-the-model" class="nav-link">Save and Load the model</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h4">
            <a href="#save-and-share-the-model" class="nav-link">Save and share the model</a>
        </li>
    
        <li class="nav-item toc-entry toc-h4">
            <a href="#load-the-model-and-generate-new-data" class="nav-link">Load the model and generate new data</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#specifying-the-primary-key-of-the-table" class="nav-link">Specifying the Primary Key of the table</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#anonymizing-personally-identifiable-information-pii" class="nav-link">Anonymizing Personally Identifiable Information (PII)</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#advanced-usage" class="nav-link">Advanced Usage</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#ctgan-hyperparameters" class="nav-link">CTGAN Hyperparameters</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#specifying-constraints" class="nav-link">Specifying constraints</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#evaluating-the-synthetic-data" class="nav-link">Evaluating the Synthetic Data</a>
        </li>
    
            </ul>
        </li>
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="ctgan-model">
<span id="ctgan"></span><h1>CTGAN Model<a class="headerlink" href="#ctgan-model" title="Permalink to this headline">¶</a></h1>
<p>In this guide we will go through a series of steps that will let you
discover functionalities of the <code class="docutils literal notranslate"><span class="pre">CTGAN</span></code> model, including how to:</p>
<ul class="simple">
<li><p>Create an instance of <code class="docutils literal notranslate"><span class="pre">CTGAN</span></code>.</p></li>
<li><p>Fit the instance to your data.</p></li>
<li><p>Generate synthetic versions of your data.</p></li>
<li><p>Use the a <code class="docutils literal notranslate"><span class="pre">CTGAN</span></code> to anonymize PII information.</p></li>
<li><p>Customize the data tranformations to improve the learning process.</p></li>
<li><p>Specify column hyperparameters to improve the output quality.</p></li>
</ul>
<div class="section" id="what-is-ctgan">
<h2>What is CTGAN?<a class="headerlink" href="#what-is-ctgan" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">sdv.tabular.CTGAN</span></code> model is based on the GAN-based Deep Learning
data synthesizer which was presented at the NeurIPS 2020 conference by
the paper titled <a class="reference external" href="https://arxiv.org/abs/1907.00503">Modeling Tabular data using Conditional
GAN</a>.</p>
<p>Let’s now discover how to learn a dataset and later on generate
synthetic data with the same format and statistical properties by using
the <code class="docutils literal notranslate"><span class="pre">CTGAN</span></code> class from SDV.</p>
</div>
<div class="section" id="quick-usage">
<h2>Quick Usage<a class="headerlink" href="#quick-usage" title="Permalink to this headline">¶</a></h2>
<p>We will start by loading one of our demo datasets, the
<code class="docutils literal notranslate"><span class="pre">student_placements</span></code>, which contains information about MBA students
that applied for placements during the year 2020.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In order to follow this guide you need to have <code class="docutils literal notranslate"><span class="pre">ctgan</span></code> installed on
your system. If you have not done it yet, please install <code class="docutils literal notranslate"><span class="pre">ctgan</span></code> now
by executing the command <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">sdv[ctgan]</span></code> in a terminal.</p>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">sdv.demo</span> <span class="kn">import</span> <span class="n">load_tabular_demo</span>

<span class="gp">In [2]: </span><span class="n">data</span> <span class="o">=</span> <span class="n">load_tabular_demo</span><span class="p">(</span><span class="s1">&#39;student_placements&#39;</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">T</span>
<span class="gh">Out[3]: </span><span class="go"></span>
<span class="go">                                      0                    1                    2         3                    4</span>
<span class="go">student_id                        17264                17265                17266     17267                17268</span>
<span class="go">gender                                M                    M                    M         M                    M</span>
<span class="go">second_perc                          67                79.33                   65        56                 85.8</span>
<span class="go">high_perc                            91                78.33                   68        52                 73.6</span>
<span class="go">high_spec                      Commerce              Science                 Arts   Science             Commerce</span>
<span class="go">degree_perc                          58                77.48                   64        52                 73.3</span>
<span class="go">degree_type                    Sci&amp;Tech             Sci&amp;Tech            Comm&amp;Mgmt  Sci&amp;Tech            Comm&amp;Mgmt</span>
<span class="go">work_experience                   False                 True                False     False                False</span>
<span class="go">experience_years                      0                    1                    0         0                    0</span>
<span class="go">employability_perc                   55                 86.5                   75        66                 96.8</span>
<span class="go">mba_spec                         Mkt&amp;HR              Mkt&amp;Fin              Mkt&amp;Fin    Mkt&amp;HR              Mkt&amp;Fin</span>
<span class="go">mba_perc                           58.8                66.28                 57.8     59.43                 55.5</span>
<span class="go">salary                            27000                20000                25000       NaN                42500</span>
<span class="go">placed                             True                 True                 True     False                 True</span>
<span class="go">start_date          2020-07-23 00:00:00  2020-01-11 00:00:00  2020-01-26 00:00:00       NaT  2020-07-04 00:00:00</span>
<span class="go">end_date            2020-10-12 00:00:00  2020-04-09 00:00:00  2020-07-13 00:00:00       NaT  2020-09-27 00:00:00</span>
<span class="go">duration                            3.0                  3.0                  6.0       NaN                  3.0</span>
</pre></div>
</div>
<p>As you can see, this table contains information about students which
includes, among other things:</p>
<ul class="simple">
<li><p>Their id and gender</p></li>
<li><p>Their grades and specializations</p></li>
<li><p>Their work experience</p></li>
<li><p>The salary that they where offered</p></li>
<li><p>The duration and dates of their placement</p></li>
</ul>
<p>You will notice that there is data with the following characteristics:</p>
<ul class="simple">
<li><p>There are float, integer, boolean, categorical and datetime values.</p></li>
<li><p>There are some variables that have missing data. In particular, all
the data related to the placement details is missing in the rows
where the studen was not placed.</p></li>
</ul>
<p>Let us use <code class="docutils literal notranslate"><span class="pre">CTGAN</span></code> to learn this data and then sample synthetic data
about new students to see how well de model captures the characteristics
indicated above. In order to do this you wil need to:</p>
<ul class="simple">
<li><p>Import the <code class="docutils literal notranslate"><span class="pre">sdv.tabular.CTGAN</span></code> class and create an instance of it.</p></li>
<li><p>Call its <code class="docutils literal notranslate"><span class="pre">fit</span></code> method passing our table.</p></li>
<li><p>Call its <code class="docutils literal notranslate"><span class="pre">sample</span></code> method indicating the number of synthetic rows
that you want to generate.</p></li>
</ul>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="kn">from</span> <span class="nn">sdv.tabular</span> <span class="kn">import</span> <span class="n">CTGAN</span>

<span class="gp">In [5]: </span><span class="n">model</span> <span class="o">=</span> <span class="n">CTGAN</span><span class="p">()</span>

<span class="gp">In [6]: </span><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Notice that the model <code class="docutils literal notranslate"><span class="pre">fitting</span></code> process took care of transforming the
different fields using the appropriate <a class="reference external" href="http://github.com/sdv-dev/RDT">Reversible Data
Transforms</a> to ensure that the data
has a format that the underlying CTGANSynthesizer class can handle.</p>
</div>
<div class="section" id="generate-synthetic-data-from-the-model">
<h3>Generate synthetic data from the model<a class="headerlink" href="#generate-synthetic-data-from-the-model" title="Permalink to this headline">¶</a></h3>
<p>Once the modeling has finished you are ready to generate new synthetic
data by calling the <code class="docutils literal notranslate"><span class="pre">sample</span></code> method from your model passing the number
of rows that we want to generate.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">new_data</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
<p>This will return a table identical to the one which the model was fitted
on, but filled with new data which resembles the original one.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">new_data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gh">Out[8]: </span><span class="go"></span>
<span class="go">   student_id gender  second_perc  high_perc high_spec  degree_perc degree_type  work_experience  experience_years  employability_perc mba_spec   mba_perc        salary  placed                    start_date                      end_date duration</span>
<span class="go">0       17268      M    84.407142  76.834957  Commerce    82.144106   Comm&amp;Mgmt            False                 0           62.369382   Mkt&amp;HR  65.243017  28767.959638    True 2020-01-01 06:50:34.588538112 2020-06-14 20:09:09.742686976      NaN</span>
<span class="go">1       17426      F    54.182262  45.647328   Science    59.291494    Sci&amp;Tech            False                 0           63.399082  Mkt&amp;Fin  57.768688  18843.071833    True 2020-01-19 16:45:58.024221440                           NaT      3.0</span>
<span class="go">2       17438      M    55.869710  68.055527   Science    51.049525   Comm&amp;Mgmt            False                 0           69.427054  Mkt&amp;Fin  55.501715           NaN    True 2019-12-20 04:50:28.400576256                           NaT     12.0</span>
<span class="go">3       17459      F    59.300321  71.187181  Commerce    75.244838   Comm&amp;Mgmt             True                 0           73.781261   Mkt&amp;HR  52.633794  31744.577423    True 2019-12-25 23:34:29.157032704 2020-07-09 02:53:16.560223232      NaN</span>
<span class="go">4       17348      M    44.948926  55.597176  Commerce    55.994601   Comm&amp;Mgmt            False                 0           56.605039  Mkt&amp;Fin  72.594830           NaN    True 2020-02-16 15:44:40.363624448 2020-07-03 10:34:15.624694528      NaN</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can control the number of rows by specifying the number of
<code class="docutils literal notranslate"><span class="pre">samples</span></code> in the <code class="docutils literal notranslate"><span class="pre">model.sample(&lt;num_rows&gt;)</span></code>. To test, try
<code class="docutils literal notranslate"><span class="pre">model.sample(10000)</span></code>. Note that the original table only had ~200
rows.</p>
</div>
</div>
<div class="section" id="save-and-load-the-model">
<h3>Save and Load the model<a class="headerlink" href="#save-and-load-the-model" title="Permalink to this headline">¶</a></h3>
<p>In many scenarios it will be convenient to generate synthetic versions
of your data directly in systems that do not have access to the original
data source. For example, if you may want to generate testing data on
the fly inside a testing environment that does not have access to your
production database. In these scenarios, fitting the model with real
data every time that you need to generate new data is feasible, so you
will need to fit a model in your production environment, save the fitted
model into a file, send this file to the testing environment and then
load it there to be able to <code class="docutils literal notranslate"><span class="pre">sample</span></code> from it.</p>
<p>Let’s see how this process works.</p>
<div class="section" id="save-and-share-the-model">
<h4>Save and share the model<a class="headerlink" href="#save-and-share-the-model" title="Permalink to this headline">¶</a></h4>
<p>Once you have fitted the model, all you need to do is call its <code class="docutils literal notranslate"><span class="pre">save</span></code>
method passing the name of the file in which you want to save the model.
Note that the extension of the filename is not relevant, but we will be
using the <code class="docutils literal notranslate"><span class="pre">.pkl</span></code> extension to highlight that the serialization
protocol used is
<a class="reference external" href="https://docs.python.org/3/library/pickle.html">pickle</a>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;my_model.pkl&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This will have created a file called <code class="docutils literal notranslate"><span class="pre">my_model.pkl</span></code> in the same
directory in which you are running SDV.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you inspect the generated file you will notice that its size is much
smaller than the size of the data that you used to generate it. This is
because the serialized model contains <strong>no information about the
original data</strong>, other than the parameters it needs to generate
synthetic versions of it. This means that you can safely share this
<code class="docutils literal notranslate"><span class="pre">my_model.pkl</span></code> file without the risc of disclosing any of your real
data!</p>
</div>
</div>
<div class="section" id="load-the-model-and-generate-new-data">
<h4>Load the model and generate new data<a class="headerlink" href="#load-the-model-and-generate-new-data" title="Permalink to this headline">¶</a></h4>
<p>The file you just generated can be send over to the system where the
synthetic data will be generated. Once it is there, you can load it
using the <code class="docutils literal notranslate"><span class="pre">CTGAN.load</span></code> method, and then you are ready to sample new
data from the loaded instance:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [10]: </span><span class="n">loaded</span> <span class="o">=</span> <span class="n">CTGAN</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;my_model.pkl&#39;</span><span class="p">)</span>

<span class="gp">In [11]: </span><span class="n">new_data</span> <span class="o">=</span> <span class="n">loaded</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Notice that the system where the model is loaded needs to also have
<code class="docutils literal notranslate"><span class="pre">sdv</span></code> and <code class="docutils literal notranslate"><span class="pre">ctgan</span></code> installed, otherwise it will not be able to load
the model and use it.</p>
</div>
</div>
</div>
<div class="section" id="specifying-the-primary-key-of-the-table">
<h3>Specifying the Primary Key of the table<a class="headerlink" href="#specifying-the-primary-key-of-the-table" title="Permalink to this headline">¶</a></h3>
<p>One of the first things that you may have noticed when looking that demo
data is that there is a <code class="docutils literal notranslate"><span class="pre">student_id</span></code> column which acts as the primary
key of the table, and which is supposed to have unique values. Indeed,
if we look at the number of times that each value appears, we see that
all of them appear at most once:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="n">data</span><span class="o">.</span><span class="n">student_id</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="gh">Out[12]: </span><span class="go">1</span>
</pre></div>
</div>
<p>However, if we look at the synthetic data that we generated, we observe
that there are some values that appear more than once:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="n">new_data</span><span class="o">.</span><span class="n">student_id</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="gh">Out[13]: </span><span class="go">4</span>

<span class="gp">In [14]: </span><span class="n">new_data</span><span class="p">[</span><span class="n">new_data</span><span class="o">.</span><span class="n">student_id</span> <span class="o">==</span> <span class="n">new_data</span><span class="o">.</span><span class="n">student_id</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="gh">Out[14]: </span><span class="go"></span>
<span class="go">     student_id gender  second_perc  high_perc high_spec  degree_perc degree_type  work_experience  experience_years  employability_perc mba_spec   mba_perc        salary  placed                    start_date                      end_date duration</span>
<span class="go">0         17371      F    57.620598  68.522344  Commerce    58.704194   Comm&amp;Mgmt            False                 0           67.774239   Mkt&amp;HR  54.537970  39682.964422    True 2020-03-03 03:48:38.590977536 2020-07-25 19:47:37.725681664      3.0</span>
<span class="go">106       17371      M    81.950712  57.103383      Arts    66.788775      Others            False                 0           69.285808   Mkt&amp;HR  57.559569           NaN    True                           NaT                           NaT      NaN</span>
<span class="go">119       17371      F    65.298801  69.703838  Commerce    61.235673   Comm&amp;Mgmt            False                 0           57.235205  Mkt&amp;Fin  75.211076  23932.753113    True                           NaT                           NaT      6.0</span>
<span class="go">160       17371      F    71.195450  64.199285  Commerce    82.452937   Comm&amp;Mgmt            False                 0           92.017193   Mkt&amp;HR  50.698810  29946.852918    True 2020-02-25 17:07:07.320048896 2020-12-16 22:14:59.892368128      3.0</span>
</pre></div>
</div>
<p>This happens because the model was not notified at any point about the
fact that the <code class="docutils literal notranslate"><span class="pre">student_id</span></code> had to be unique, so when it generates new
data it will provoke collisions sooner or later. In order to solve this,
we can pass the argument <code class="docutils literal notranslate"><span class="pre">primary_key</span></code> to our model when we create it,
indicating the name of the column that is the index of the table.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [15]: </span><span class="n">model</span> <span class="o">=</span> <span class="n">CTGAN</span><span class="p">(</span>
<span class="gp">   ....: </span>    <span class="n">primary_key</span><span class="o">=</span><span class="s1">&#39;student_id&#39;</span>
<span class="gp">   ....: </span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [16]: </span><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="gp">In [17]: </span><span class="n">new_data</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
<p>As a result, the model will learn that this column must be unique and
generate a unique sequence of valures for the column:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [18]: </span><span class="n">new_data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gh">Out[18]: </span><span class="go"></span>
<span class="go">   student_id gender  second_perc  high_perc high_spec  degree_perc degree_type  work_experience  experience_years  employability_perc mba_spec   mba_perc        salary  placed                    start_date                      end_date duration</span>
<span class="go">0           0      M    80.489192  46.089195   Science    65.687715    Sci&amp;Tech             True                 0           84.513048  Mkt&amp;Fin  61.337254           NaN   False 2020-02-25 05:12:10.569827584 2020-05-28 23:48:33.883366912      NaN</span>
<span class="go">1           1      F    61.847014  43.379145   Science    77.473129   Comm&amp;Mgmt             True                 0           71.198003   Mkt&amp;HR  68.272454  26081.756121    True                           NaT 2020-11-18 17:22:07.841654784      NaN</span>
<span class="go">2           2      F    78.719929  37.318295  Commerce    85.141073   Comm&amp;Mgmt             True                 0           64.364955  Mkt&amp;Fin  67.716712  26631.867007   False                           NaT 2021-04-11 05:00:36.319894784      NaN</span>
<span class="go">3           3      F    70.424412  51.666110  Commerce    62.804174   Comm&amp;Mgmt            False                 2           48.802724   Mkt&amp;HR  59.834571           NaN    True 2020-03-20 15:13:44.093288448 2020-11-02 21:52:09.621130496     12.0</span>
<span class="go">4           4      M    52.218486  38.665137  Commerce    64.988488   Comm&amp;Mgmt             True                 0           53.211023   Mkt&amp;HR  60.717261  74719.397625    True 2020-03-18 01:04:04.223087360 2020-11-17 15:11:10.360605184      NaN</span>

<span class="gp">In [19]: </span><span class="n">new_data</span><span class="o">.</span><span class="n">student_id</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="gh">Out[19]: </span><span class="go">1</span>
</pre></div>
</div>
</div>
<div class="section" id="anonymizing-personally-identifiable-information-pii">
<h3>Anonymizing Personally Identifiable Information (PII)<a class="headerlink" href="#anonymizing-personally-identifiable-information-pii" title="Permalink to this headline">¶</a></h3>
<p>There will be many cases where the data will contain Personally
Identifiable Information which we cannot disclose. In these cases, we
will want our Tabular Models to replace the information within these
fields with fake, simulated data that looks similar to the real one but
does not contain any of the original values.</p>
<p>Let’s load a new dataset that contains a PII field, the
<code class="docutils literal notranslate"><span class="pre">student_placements_pii</span></code> demo, and try to generate synthetic versions
of it that do not contain any of the PII fields.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">student_placements_pii</span></code> dataset is a modified version of the
<code class="docutils literal notranslate"><span class="pre">student_placements</span></code> dataset with one new field, <code class="docutils literal notranslate"><span class="pre">address</span></code>, which
contains PII information about the students. Notice that this additional
<code class="docutils literal notranslate"><span class="pre">address</span></code> field has been simulated and does not correspond to data
from the real users.</p>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [20]: </span><span class="n">data_pii</span> <span class="o">=</span> <span class="n">load_tabular_demo</span><span class="p">(</span><span class="s1">&#39;student_placements_pii&#39;</span><span class="p">)</span>

<span class="gp">In [21]: </span><span class="n">data_pii</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">T</span>
<span class="gh">Out[21]: </span><span class="go"></span>
<span class="go">                                                              0                                                1                                            2                                 3                                                  4</span>
<span class="go">student_id                                                17264                                            17265                                        17266                             17267                                              17268</span>
<span class="go">address             70304 Baker Turnpike\nEricborough, MS 15086  805 Herrera Avenue Apt. 134\nMaryview, NJ 36510  3702 Bradley Island\nNorth Victor, FL 12268  Unit 0879 Box 3878\nDPO AP 42663  96493 Kelly Canyon Apt. 145\nEast Steven, NC 3...</span>
<span class="go">gender                                                        M                                                M                                            M                                 M                                                  M</span>
<span class="go">second_perc                                                  67                                            79.33                                           65                                56                                               85.8</span>
<span class="go">high_perc                                                    91                                            78.33                                           68                                52                                               73.6</span>
<span class="go">high_spec                                              Commerce                                          Science                                         Arts                           Science                                           Commerce</span>
<span class="go">degree_perc                                                  58                                            77.48                                           64                                52                                               73.3</span>
<span class="go">degree_type                                            Sci&amp;Tech                                         Sci&amp;Tech                                    Comm&amp;Mgmt                          Sci&amp;Tech                                          Comm&amp;Mgmt</span>
<span class="go">work_experience                                           False                                             True                                        False                             False                                              False</span>
<span class="go">experience_years                                              0                                                1                                            0                                 0                                                  0</span>
<span class="go">employability_perc                                           55                                             86.5                                           75                                66                                               96.8</span>
<span class="go">mba_spec                                                 Mkt&amp;HR                                          Mkt&amp;Fin                                      Mkt&amp;Fin                            Mkt&amp;HR                                            Mkt&amp;Fin</span>
<span class="go">mba_perc                                                   58.8                                            66.28                                         57.8                             59.43                                               55.5</span>
<span class="go">salary                                                    27000                                            20000                                        25000                               NaN                                              42500</span>
<span class="go">placed                                                     True                                             True                                         True                             False                                               True</span>
<span class="go">start_date                                  2020-07-23 00:00:00                              2020-01-11 00:00:00                          2020-01-26 00:00:00                               NaT                                2020-07-04 00:00:00</span>
<span class="go">end_date                                    2020-10-12 00:00:00                              2020-04-09 00:00:00                          2020-07-13 00:00:00                               NaT                                2020-09-27 00:00:00</span>
<span class="go">duration                                                    3.0                                              3.0                                          6.0                               NaN                                                3.0</span>
</pre></div>
</div>
<p>If we use our tabular model on this new data we will see how the
synthetic data that it generates discloses the addresses from the real
students:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [22]: </span><span class="n">model</span> <span class="o">=</span> <span class="n">CTGAN</span><span class="p">(</span>
<span class="gp">   ....: </span>    <span class="n">primary_key</span><span class="o">=</span><span class="s1">&#39;student_id&#39;</span><span class="p">,</span>
<span class="gp">   ....: </span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [23]: </span><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data_pii</span><span class="p">)</span>

<span class="gp">In [24]: </span><span class="n">new_data_pii</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>

<span class="gp">In [25]: </span><span class="n">new_data_pii</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gh">Out[25]: </span><span class="go"></span>
<span class="go">   student_id                                            address gender  second_perc  high_perc high_spec  degree_perc degree_type  work_experience  experience_years  employability_perc mba_spec   mba_perc        salary  placed                    start_date                      end_date duration</span>
<span class="go">0           0              534 Carla Manors\nDebraberg, AZ 49567      M    69.916975  82.428016  Commerce    62.041755   Comm&amp;Mgmt             True                 0           55.554690  Mkt&amp;Fin  74.012944           NaN   False 2020-06-23 01:45:23.379146496                           NaT      6.0</span>
<span class="go">1           1  21119 Bailey Mall Apt. 215\nCameronbury, GA 31205      M    51.263072  82.925768  Commerce    57.481154   Comm&amp;Mgmt            False                 0           75.598331  Mkt&amp;Fin  62.878164  48516.316269    True 2020-02-07 09:22:18.227912448 2020-12-29 21:04:05.440857600      3.0</span>
<span class="go">2           2        4785 Cindy Trail\nEast Robertfurt, CT 03122      M    72.646849  84.357816   Science    43.521730    Sci&amp;Tech             True                 0           98.424389  Mkt&amp;Fin  55.648462  30362.121808   False 2020-01-18 07:03:54.211795968 2020-07-30 11:30:58.333191168      6.0</span>
<span class="go">3           3    465 Amber Run Apt. 784\nEast Ryantown, MI 05577      M    49.534253  64.518330  Commerce    59.066504   Comm&amp;Mgmt             True                 0          102.765399  Mkt&amp;Fin  57.762057  21517.269873   False                           NaT 2020-04-20 14:24:59.332971520     12.0</span>
<span class="go">4           4       0226 Deleon Avenue\nSouth Ryanfort, AK 13219      M    55.646012  71.339121   Science    63.256330    Sci&amp;Tech            False                 0           97.714758   Mkt&amp;HR  48.387916  39479.674381    True                           NaT 2020-07-19 04:53:05.503398656      3.0</span>

<span class="gp">In [26]: </span><span class="n">new_data_pii</span><span class="o">.</span><span class="n">address</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">data_pii</span><span class="o">.</span><span class="n">address</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gh">Out[26]: </span><span class="go">200</span>
</pre></div>
</div>
<p>In order to solve this, we can pass an additional argument
<code class="docutils literal notranslate"><span class="pre">anonymize_fields</span></code> to our model when we create the instance. This
<code class="docutils literal notranslate"><span class="pre">anonymize_fields</span></code> argument will need to be a dictionary that
contains:</p>
<ul class="simple">
<li><p>The name of the field that we want to anonymize.</p></li>
<li><p>The category of the field that we want to use when we generate fake
values for it.</p></li>
</ul>
<p>The list complete list of possible categories can be seen in the <a class="reference external" href="https://faker.readthedocs.io/en/master/providers.html">Faker
Providers</a>
page, and it contains a huge list of concepts such as:</p>
<ul class="simple">
<li><p>name</p></li>
<li><p>address</p></li>
<li><p>country</p></li>
<li><p>city</p></li>
<li><p>ssn</p></li>
<li><p>credit_card_number</p></li>
<li><p>credit_card_expier</p></li>
<li><p>credit_card_security_code</p></li>
<li><p>email</p></li>
<li><p>telephone</p></li>
<li><p>…</p></li>
</ul>
<p>In this case, since the field is an e-mail address, we will pass a
dictionary indicating the category <code class="docutils literal notranslate"><span class="pre">address</span></code></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [27]: </span><span class="n">model</span> <span class="o">=</span> <span class="n">CTGAN</span><span class="p">(</span>
<span class="gp">   ....: </span>    <span class="n">primary_key</span><span class="o">=</span><span class="s1">&#39;student_id&#39;</span><span class="p">,</span>
<span class="gp">   ....: </span>    <span class="n">anonymize_fields</span><span class="o">=</span><span class="p">{</span>
<span class="gp">   ....: </span>        <span class="s1">&#39;address&#39;</span><span class="p">:</span> <span class="s1">&#39;address&#39;</span>
<span class="gp">   ....: </span>    <span class="p">}</span>
<span class="gp">   ....: </span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [28]: </span><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data_pii</span><span class="p">)</span>
</pre></div>
</div>
<p>As a result, we can see how the real <code class="docutils literal notranslate"><span class="pre">address</span></code> values have been
replaced by other fake addresses that were not taken from the real data
that we learned.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [29]: </span><span class="n">new_data_pii</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>

<span class="gp">In [30]: </span><span class="n">new_data_pii</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gh">Out[30]: </span><span class="go"></span>
<span class="go">   student_id                                            address gender  second_perc  high_perc high_spec  degree_perc degree_type  work_experience  experience_years  employability_perc mba_spec   mba_perc        salary  placed                    start_date                      end_date duration</span>
<span class="go">0           0   9071 Whitney Ramp Apt. 612\nKirbyville, TX 57425      F    52.375829  54.123710  Commerce    87.327138      Others            False                 0           76.339993  Mkt&amp;Fin  57.750920           NaN    True 2020-02-27 12:59:12.615170560                           NaT      6.0</span>
<span class="go">1           1          83549 Michelle Vista\nCurtiston, NE 93755      M    69.275370  70.467686  Commerce    78.624663    Sci&amp;Tech            False                 0           92.496659  Mkt&amp;Fin  60.029159           NaN    True 2020-03-09 14:11:46.475259392 2020-06-26 15:40:13.064714496     12.0</span>
<span class="go">2           2  94812 Anthony Vista Apt. 428\nRobertshire, MO ...      M    72.814909  70.225210  Commerce    75.901514   Comm&amp;Mgmt            False                 0           56.490910  Mkt&amp;Fin  55.809193  18177.751658    True                           NaT                           NaT      NaN</span>
<span class="go">3           3           0460 Rios Street\nWilliamville, MI 86926      M    97.067483  56.526567  Commerce    58.152485   Comm&amp;Mgmt            False                 1          106.012624   Mkt&amp;HR  59.916269  20273.518112    True 2020-06-22 22:47:13.456477696 2020-07-26 22:32:27.570652928      3.0</span>
<span class="go">4           4  85667 Jefferson Coves Apt. 494\nLoganborough, ...      M    39.139427  68.649314   Science    90.959695   Comm&amp;Mgmt            False                 0           81.049980  Mkt&amp;Fin  65.191376  36791.076025    True                           NaT 2020-07-01 04:30:10.084791552     12.0</span>

<span class="gp">In [31]: </span><span class="n">new_data_pii</span><span class="o">.</span><span class="n">address</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">data_pii</span><span class="o">.</span><span class="n">address</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gh">Out[31]: </span><span class="go">0</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="advanced-usage">
<h2>Advanced Usage<a class="headerlink" href="#advanced-usage" title="Permalink to this headline">¶</a></h2>
<p>Now that we have discovered the basics, let’s go over a few more
advanced usage examples and see the different arguments that we can pass
to our <code class="docutils literal notranslate"><span class="pre">CTGAN</span></code> Model in order to customize it to our needs.</p>
<div class="section" id="ctgan-hyperparameters">
<h3>CTGAN Hyperparameters<a class="headerlink" href="#ctgan-hyperparameters" title="Permalink to this headline">¶</a></h3>
<p>A part from the common Tabular Model arguments, <code class="docutils literal notranslate"><span class="pre">CTGAN</span></code> has a number
of additional hyperparameters that control its learning behavior and can
impact on the performance of the model, both in terms of quality of the
generated data and computationa time.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">epochs</span></code> and <code class="docutils literal notranslate"><span class="pre">batch_size</span></code>: these arguments control the number of
iterations that the model will perform to optimize its parameters, as well as the number
of samples used in each step. Its default values are <code class="docutils literal notranslate"><span class="pre">300</span></code> and <code class="docutils literal notranslate"><span class="pre">500</span></code>
respectively, and <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> needs to always be a value which is
multiple of <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p>
<p>These hyperparameters have a very direct effect in time the training
process lasts but also on the performance of the data, so for new
datasets, you might want to start by setting a low value on both of them
to see how long the training process takes on your data and later on
increase the number to acceptable values in order to improve the
performance.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">log_frequency</span></code>: Whether to use log frequency of categorical levels in conditional
sampling. It defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>This argument affects how the model processes the frequencies of the
categorical values that are used to condition the rest of the values. In
some cases, changing it to <code class="docutils literal notranslate"><span class="pre">False</span></code> could lead to better performance.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">embedding_dim</span></code> (int): Size of the random sample passed to the
Generator. Defaults to 128.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gen_dim</span></code> (tuple or list of ints): Size of the output samples for each
one of the Residuals. A Resiudal Layer will be created for each one
of the values provided. Defaults to (256, 256).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dis_dim</span></code> (tuple or list of ints): Size of the output samples for each
one of the Discriminator Layers. A Linear Layer will be created for
each one of the values provided. Defaults to (256, 256).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">l2scale</span></code>: Weight Decay of the Adam Optimizer used to optimize the Neural Networks.
Defaults to <code class="docutils literal notranslate"><span class="pre">1e-6</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">verbose</span></code>: Whether to print fit progress on stdout. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Notice that the value that you set on the <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> argument must always be a
multiple of <code class="docutils literal notranslate"><span class="pre">10</span></code>!</p>
</div>
<p>As an example, we will try to fit the <code class="docutils literal notranslate"><span class="pre">CTGAN</span></code> model slightly
increasing the number of epochs, reducing the <code class="docutils literal notranslate"><span class="pre">batch_size</span></code>, adding one
additional layer to the models involved and using a smaller wright
decay.</p>
<p>Before we start, we will evaluate the qualtiy of the previously
generated data using the <code class="docutils literal notranslate"><span class="pre">sdv.evaluation.evaluate</span></code> function</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [32]: </span><span class="kn">from</span> <span class="nn">sdv.evaluation</span> <span class="kn">import</span> <span class="n">evaluate</span>

<span class="gp">In [33]: </span><span class="n">evaluate</span><span class="p">(</span><span class="n">new_data</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="gh">Out[33]: </span><span class="go">0.7409455662882688</span>
</pre></div>
</div>
<p>Afterwards, we create a new instance of the <code class="docutils literal notranslate"><span class="pre">CTGAN</span></code> model with the
hyperparameter values that we want to use</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [34]: </span><span class="n">model</span> <span class="o">=</span> <span class="n">CTGAN</span><span class="p">(</span>
<span class="gp">   ....: </span>    <span class="n">primary_key</span><span class="o">=</span><span class="s1">&#39;student_id&#39;</span><span class="p">,</span>
<span class="gp">   ....: </span>    <span class="n">epochs</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
<span class="gp">   ....: </span>    <span class="n">batch_size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="gp">   ....: </span>    <span class="n">gen_dim</span><span class="o">=</span><span class="p">(</span><span class="mi">256</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">256</span><span class="p">),</span>
<span class="gp">   ....: </span>    <span class="n">dis_dim</span><span class="o">=</span><span class="p">(</span><span class="mi">256</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">256</span><span class="p">),</span>
<span class="gp">   ....: </span>    <span class="n">l2scale</span><span class="o">=</span><span class="mf">1e-07</span>
<span class="gp">   ....: </span><span class="p">)</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
<p>And fit to our data.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [35]: </span><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>Finally, we are ready to generate new data and evaluate the results.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [36]: </span><span class="n">new_data</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>

<span class="gp">In [37]: </span><span class="n">new_data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">T</span>
<span class="gh">Out[37]: </span><span class="go"></span>
<span class="go">                                                0                              1                              2                              3                              4</span>
<span class="go">student_id                                      0                              1                              2                              3                              4</span>
<span class="go">gender                                          M                              F                              M                              F                              M</span>
<span class="go">second_perc                               88.4406                        97.4447                        94.3907                        53.9335                        75.0336</span>
<span class="go">high_perc                                 97.2685                        59.5007                        100.141                        63.6624                        75.0418</span>
<span class="go">high_spec                                    Arts                        Science                        Science                       Commerce                       Commerce</span>
<span class="go">degree_perc                               49.3729                        53.7636                        53.9202                        49.7141                        74.0284</span>
<span class="go">degree_type                              Sci&amp;Tech                       Sci&amp;Tech                       Sci&amp;Tech                      Comm&amp;Mgmt                       Sci&amp;Tech</span>
<span class="go">work_experience                             False                          False                           True                          False                           True</span>
<span class="go">experience_years                                0                              0                              0                              0                              0</span>
<span class="go">employability_perc                         94.305                        95.2113                        61.5056                        92.1536                        104.609</span>
<span class="go">mba_spec                                  Mkt&amp;Fin                        Mkt&amp;Fin                         Mkt&amp;HR                         Mkt&amp;HR                        Mkt&amp;Fin</span>
<span class="go">mba_perc                                  68.4522                        54.3899                        59.8896                        56.1107                        57.5213</span>
<span class="go">salary                                    27504.2                        57314.4                        27157.6                        29765.5                            NaN</span>
<span class="go">placed                                       True                          False                           True                           True                           True</span>
<span class="go">start_date          2020-01-30 03:07:49.555574784  2020-01-03 07:10:30.466515200  2019-12-16 14:13:11.273192960  2020-02-17 04:28:36.315992320  2020-01-31 20:24:24.840562944</span>
<span class="go">end_date            2020-06-25 06:45:06.787187456  2020-07-12 22:57:49.176551936  2020-09-25 03:03:26.758814464                            NaT  2020-04-22 08:44:26.435689984</span>
<span class="go">duration                                      NaN                            3.0                           12.0                            NaN                            6.0</span>

<span class="gp">In [38]: </span><span class="n">evaluate</span><span class="p">(</span><span class="n">new_data</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="gh">Out[38]: </span><span class="go">0.7333355303049651</span>
</pre></div>
</div>
<p>As we can see, in this case these modifications changed the obtained
results slightly, but they did neither introduce dramatic changes in the
performance.</p>
</div>
<div class="section" id="specifying-constraints">
<h3>Specifying constraints<a class="headerlink" href="#specifying-constraints" title="Permalink to this headline">¶</a></h3>
<p>If you look closely at the data you may notice that some properties were
not completely captured by the model. For example, you may have seen
that sometimes the model produces an <code class="docutils literal notranslate"><span class="pre">experience_years</span></code> number greater
than <code class="docutils literal notranslate"><span class="pre">0</span></code> while also indicating that <code class="docutils literal notranslate"><span class="pre">work_experience</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.
These type of properties are what we call <code class="docutils literal notranslate"><span class="pre">Constraints</span></code> and can also
be handled using <code class="docutils literal notranslate"><span class="pre">SDV</span></code>. For further details about them please visit
the <a class="reference internal" href="constraints.html#single-table-constraints"><span class="std std-ref">Handling Constraints</span></a> guide.</p>
</div>
<div class="section" id="evaluating-the-synthetic-data">
<h3>Evaluating the Synthetic Data<a class="headerlink" href="#evaluating-the-synthetic-data" title="Permalink to this headline">¶</a></h3>
<p>A very common question when someone starts using <strong>SDV</strong> to generate
synthetic data is: <em>“How good is the data that I just generated?”</em></p>
<p>In order to answer this question, <strong>SDV</strong> has a collection of metrics
and tools that allow you to compare the <em>real</em> that you provided and the
<em>synthetic</em> data that you generated using <strong>SDV</strong> or any other tool.</p>
<p>You can read more about this in the <a class="reference internal" href="evaluation.html#evaluation"><span class="std std-ref">Evaluating Synthetic Data</span></a> guide.</p>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="gaussian_copula.html" title="previous page">GaussianCopula Model</a>
    <a class='right-next' id="next-link" href="constraints.html" title="next page">Handling Constraints</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../../_static/js/index.30270b6e4c972e43c488.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2018, MIT Data To AI Lab.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>